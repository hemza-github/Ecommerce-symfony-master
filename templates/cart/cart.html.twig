{% extends 'base.html.twig' %}
{% block title %}Hello CartController!
{% endblock %}
{% block body %}

	<h1 class="text-center my-5">
		{{ controller_name }}
	</h1>

	{% if articlesInCart | length > 0 %}
		<div class="container my-5 py-3 z-depth-1 rounded">


  <!--Section: Content-->
  <section class="dark-grey-text">

    <!-- Shopping Cart table -->
    <div class="table-responsive">

      <table class="table product-table mb-0">

        <!-- Table head -->
        <thead class="mdb-color lighten-5">
          <tr>
            <th></th>
            <th class="font-weight-bold text-center">
              <strong>Produit</strong>
            </th>
           
            <th class="font-weight-bold text-center">
              <strong>Prix</strong>
            </th>
			<th class="font-weight-bold text-center">
              <strong>Quantité</strong>
            </th>
            <th class="font-weight-bold text-center">
              <strong>Montant</strong>
            </th>
            <th></th>
          </tr>
        </thead>
        <!-- Table body -->
        <tbody>
				{% for articleInCart in articlesInCart %}
				<tr>
				
				<th  class="text-center" scope="row">
              <img src="https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/Products/13.jpg" alt="" class="img-fluid z-depth-0" width="100" height="50">
            </th>
					<th class="text-center">
						<h5>{{ articleInCart.article.title }}</h5>
					</th>
					<th class="text-center">
						{{ articleInCart.article.price }}€
					</th>
					
					<th class="text-center">
					<a href="{{ path('cart_remove', { 'id': articleInCart.article.id }) }}" class="btn btn-danger btn-sm" role="button">
							<i class="fas fa-minus"></i>
						</a> &thinsp;
						{{ articleInCart.quantity }}
						<a href="{{ path('cart_add', {'id' : articleInCart.article.id }) }}" class="btn btn-success btn-sm mx-2">
							<i class="fas fa-plus"></i>
						</a>
					</th>
					<th class="text-center">
						{{ articleInCart.article.price * articleInCart.quantity }}€
					</th>
					<th class="text-center">
						<a href="{{ path('cart_delete', { 'id': articleInCart.article.id }) }}" class="btn btn-danger btn-sm" role="button">
							<i class="fas fa-trash"></i>
						</a>
					</th>
					
					
				</tr>
                {% endfor %}
			</tbody>
            <tfoot>
                <tr>
				<td></td>
				<td></td>
				
				<td></td>
				
					<td class="text-right font-weight-bold" ><h4>Total :</h4></td>
					<td class="text-center font-weight-bold"><h4>{{ total }}€</h4></td>
					<td></td>
				</tr>
            </tfoot>

		</table>
		 </div>
    <!-- /.Shopping Cart table -->

  </section>
  <!--Section: Content-->


</div>
	{% else %}
		<p class="mx-auto text-center">
			votre panier est vide
		</p>
	{% endif %}

{% endblock %}

